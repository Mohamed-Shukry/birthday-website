<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday ðŸ’–</title>

  <!-- Google font (optional) -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1: #ffecd2; /* warm */
      --bg2: #fcb69f;
      --accent: #ff6b81;
      --muted: #5b5b6a;
    }
    html,body{
      height:100%;
      margin:0;
      font-family: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      background: linear-gradient(160deg,var(--bg1),var(--bg2));
      color:#111;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:20px;
    }

    /* Card */
    .card{
      width:100%;
      max-width:420px;
      background:rgba(255,255,255,0.88);
      border-radius:20px;
      box-shadow: 0 10px 30px rgba(14,14,20,0.12);
      padding:22px;
      position:relative;
      overflow:hidden;
      transform-origin:center;
      animation:float 6s ease-in-out infinite;
    }
    @keyframes float {
      0%{ transform:translateY(0px); }
      50%{ transform:translateY(-8px); }
      100%{ transform:translateY(0px); }
    }

    .top-row{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:12px;
    }
    .badge{
      background: linear-gradient(90deg,#ff9ba8,#ff6b81);
      color:white;
      padding:6px 12px;
      border-radius:999px;
      font-weight:600;
      font-size:14px;
      box-shadow: 0 4px 12px rgba(255,107,129,0.18);
    }

    h1{
      margin:16px 0 6px 0;
      font-size:28px;
      line-height:1.02;
      letter-spacing:-0.4px;
    }
    .sub{
      color:var(--muted);
      font-size:14px;
      margin-bottom:16px;
    }

    /* Heart / emoji header */
    .hero{
      display:flex;
      gap:10px;
      align-items:center;
    }
    .heart{
      font-size:40px;
      transform-origin:center;
      animation:pop 1.6s ease-in-out infinite;
      filter:drop-shadow(0 6px 18px rgba(255,107,129,0.18));
    }
    @keyframes pop {
      0%, 100%{ transform:scale(1); }
      50%{ transform:scale(1.12); }
    }

    /* Message card */
    .message{
      background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.82));
      border-radius:14px;
      padding:12px 14px;
      margin:14px 0;
      font-size:16px;
      min-height:66px;
      display:flex;
      align-items:center;
      justify-content:center;
      text-align:center;
      position:relative;
    }

    .type {
      display:inline-block;
      white-space:pre-wrap;
      font-weight:500;
      color:#222;
      font-size:16px;
    }
    .cursor{
      display:inline-block;
      width:3px;
      height:18px;
      background:#222;
      margin-left:6px;
      vertical-align:middle;
      animation:blink 1s steps(2,end) infinite;
    }
    @keyframes blink { 50%{ opacity:0 } }

    /* Buttons row */
    .controls{
      display:flex;
      gap:10px;
      margin-top:6px;
      justify-content:center;
    }
    .btn{
      border:0;
      outline:0;
      padding:12px 14px;
      border-radius:12px;
      font-weight:600;
      cursor:pointer;
      background:white;
      box-shadow: 0 6px 18px rgba(16,24,40,0.06);
      transition:transform .12s ease, box-shadow .12s ease;
    }
    .btn:active{ transform:translateY(2px) scale(.997); }
    .btn-primary{
      background:linear-gradient(90deg,#ff7aa2,#ff6b81);
      color:white;
      box-shadow: 0 12px 30px rgba(255,107,129,0.18);
    }

    .small{
      font-size:13px;
      padding:10px 12px;
    }

    /* floating hearts */
    .float-obj{
      position:absolute;
      pointer-events:none;
      opacity:0.9;
      transform:translateY(0);
      animation:rise 8s linear infinite;
    }
    @keyframes rise {
      0%{ transform:translateY(40px) scale(.9); opacity:0 }
      10%{ opacity:1 }
      80%{ opacity:1 }
      100%{ transform:translateY(-160px) scale(1.05); opacity:0 }
    }

    footer{
      margin-top:12px;
      color:var(--muted);
      font-size:12px;
      text-align:center;
    }

    /* Responsive tweaks for small phones */
    @media (max-width:360px){
      h1{ font-size:24px; }
      .card{ padding:18px; border-radius:18px; }
    }
  </style>
</head>
<body>
  <div class="card" role="main" aria-labelledby="title">
    <div class="top-row">
      <div class="badge">A special surprise</div>
      <div style="font-size:12px;color:var(--muted)">Made with â™¥</div>
    </div>

    <div class="hero" style="margin-top:8px">
      <div class="heart" aria-hidden="true">ðŸ’–</div>
      <div>
        <h1 id="title">Happy Birthday, <span id="name">Hima</span> ðŸŽ‰</h1>
        <div class="sub">A small surprise just for you â€” open the message below âœ¨</div>
      </div>
    </div>

    <div class="message" id="messageBox" aria-live="polite">
      <div class="type" id="typedText"></div>
      <div class="cursor" id="cursor"></div>
    </div>

    <div class="controls" aria-hidden="false">
      <button class="btn btn-primary" id="revealBtn">Open your message</button>
      <button class="btn small" id="resetBtn">Replay</button>
    </div>

    <footer>Tap "Open" and enjoy ðŸŽˆ â€” edit the name and message in the code to personalize.</footer>

    <!-- floating hearts (purely decorative) -->
    <div class="float-obj" style="left:12px; bottom: -20px; animation-delay:0s">ðŸ’—</div>
    <div class="float-obj" style="left:60px; bottom: -12px; animation-delay:1.8s">ðŸ’•</div>
    <div class="float-obj" style="left:220px; bottom: -10px; animation-delay:0.9s">ðŸ’ž</div>
    <div class="float-obj" style="left:160px; bottom: -18px; animation-delay:2.4s">ðŸ’“</div>
  </div>

  <!-- Confetti canvas -->
  <canvas id="confettiCanvas" style="position:fixed;left:0;top:0;pointer-events:none;z-index:9999;"></canvas>

  <script>
    /* ---------- PERSONALIZE HERE ----------
       Change the name and the message below.
    -------------------------------------- */
    const recipientName = "Hima"; // <- change name here
    const fullMessage = `Dear ${recipientName},

Wishing you the happiest birthday! ðŸŽ‚
May your day be full of laughter, joy, and tiny moments that become beautiful memories.

You mean the world to me â€” today and always. ðŸ’«

Love,
Yours ðŸ’–`;

    /* ---------- UI / Typing effect ---------- */
    const nameEl = document.getElementById('name');
    const typedEl = document.getElementById('typedText');
    const cursorEl = document.getElementById('cursor');
    const revealBtn = document.getElementById('revealBtn');
    const resetBtn = document.getElementById('resetBtn');

    nameEl.textContent = recipientName;

    let typingTimeouts = [];
    function typeMessage(text, speed = 30) {
      clearTyping();
      typedEl.textContent = "";
      let i = 0;
      function step(){
        if (i <= text.length) {
          typedEl.textContent = text.slice(0,i);
          i++;
          const t = setTimeout(step, speed + (i%12===0 ? 40 : 0));
          typingTimeouts.push(t);
        } else {
          cursorEl.style.display = 'none';
        }
      }
      cursorEl.style.display = 'inline-block';
      step();
    }
    function clearTyping(){
      typingTimeouts.forEach(t => clearTimeout(t));
      typingTimeouts = [];
      cursorEl.style.display = 'none';
    }

    revealBtn.addEventListener('click', () => {
      typeMessage(fullMessage, 26);
      startConfetti();
    });
    resetBtn.addEventListener('click', () => {
      clearTyping();
      typedEl.textContent = "";
      cursorEl.style.display = 'none';
      stopConfetti();
    });

    /* Start typing automatically (optional) - comment if you don't want this */
    // setTimeout(()=> revealBtn.click(), 800);

    /* ---------- Simple Confetti Implementation ---------- */
    const canvas = document.getElementById('confettiCanvas');
    const ctx = canvas.getContext('2d');
    let W = canvas.width = innerWidth;
    let H = canvas.height = innerHeight;
    let confettiPieces = [];
    let confettiRunning = false;
    const colors = [["#ff6b81","#ff9ba8"],["#ffd166","#ffd08a"],["#8ad6ff","#6fc6ff"],["#b18aff","#d4b6ff"]];

    function rand(min,max){ return Math.random()*(max-min)+min; }
    function Confetto(){
      this.x = rand(50, W-50);
      this.y = rand(H*0.2, H*0.6);
      this.w = rand(6, 10);
      this.h = rand(10, 16);
      this.vx = rand(-1.4, 1.4);
      this.vy = rand(-3, -1.2);
      this.r = rand(0,360);
      this.rr = rand(-6,6);
      const c = colors[Math.floor(rand(0,colors.length))];
      this.color = c[0];
      this.color2 = c[1];
      this.spin = rand(0.06, 0.18);
      this.tilt = rand(-Math.PI/6, Math.PI/6);
      this.opacity = 1;
      this.gravity = 0.05 + Math.random()*0.04;
    }
    Confetto.prototype.update = function(i){
      this.vy += this.gravity;
      this.x += this.vx;
      this.y += this.vy;
      this.r += this.rr;
      this.tilt += this.spin;
      this.opacity -= 0.003;
      if (this.y > H + 20) this.y = H + 20;
      if (this.opacity < 0) confettiPieces.splice(i,1);
    }
    Confetto.prototype.draw = function(){
      ctx.save();
      ctx.translate(this.x, this.y);
      ctx.rotate(this.r * Math.PI/180);
      // draw rounded rectangle-ish confetti with gradient
      const g = ctx.createLinearGradient(-this.w,-this.h,this.w,this.h);
      g.addColorStop(0, this.color);
      g.addColorStop(1, this.color2);
      ctx.fillStyle = g;
      ctx.globalAlpha = Math.max(0, this.opacity);
      ctx.fillRect(-this.w/2, -this.h/2, this.w, this.h);
      ctx.restore();
    }

    function onResize(){
      W = canvas.width = innerWidth;
      H = canvas.height = innerHeight;
    }
    addEventListener('resize', onResize);

    function render(){
      if(!confettiRunning) return;
      ctx.clearRect(0,0,W,H);
      // draw faint floating hearts behind card
      confettiPieces.forEach((p,i)=>{
        p.update(i);
        p.draw();
      });
      requestAnimationFrame(render);
    }

    function startConfetti(){
      if(confettiRunning) return;
      confettiRunning = true;
      // create a burst
      for(let i=0;i<110;i++){
        confettiPieces.push(new Confetto());
      }
      render();
      // sustainability: spawn new ones for a few seconds
      let spawnCount = 0;
      const spawnInterval = setInterval(()=>{
        for(let i=0;i<10;i++) confettiPieces.push(new Confetto());
        spawnCount++;
        if(spawnCount>8) clearInterval(spawnInterval);
      },150);
      // auto stop after 9s
      setTimeout(()=> stopConfetti(), 9000);
    }
    function stopConfetti(){
      confettiRunning = false;
      confettiPieces = [];
      ctx.clearRect(0,0,W,H);
    }

    // small accessibility: allow keyboard enter to trigger
    revealBtn.addEventListener('keyup', e => { if(e.key === 'Enter') revealBtn.click(); });
  </script>
</body>
</html>